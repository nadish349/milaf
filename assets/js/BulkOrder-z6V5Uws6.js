import{c as e,j as t,f as a}from"./index-jHmpFEMT.js";import{r as s}from"./vendor-CyyySG0f.js";import{g as r,m as i}from"./milafframe-FCCv476d.js";import{c as n,d as l,k as o,s as c,a as d}from"./milafcola-BJYXYRQ2.js";import{N as m,B as x}from"./BulkOrderPopup-YhGHvW7z.js";import{H as u}from"./Header-BhIOcdD6.js";import{g as h}from"./productImages-BIVgD51t.js";import{h as f}from"./bulkCartPlacer-DxF_dX5H.js";import{u as p}from"./router-Dpy7eVzN.js";import"./ui-D10HkiTw.js";import"./firebase-rYhY7HPw.js";import"./LoginForm-DeovXXO9.js";import"./card-CmKHpVHl.js";import"./label-DM97D0RX.js";import"./PostalCodeAutocomplete-DBHDLA_4.js";const b=({onGradientChange:b,selectedProductId:g})=>{const[j,k]=s.useState(g||0),[N,w]=s.useState(!1),[y,v]=s.useState(!1),[C,S]=s.useState(!1),[A,E]=s.useState(1),[D,I]=s.useState(!1),[P,T]=s.useState(!1),[B,L]=s.useState(!0),{addToCart:F}=e();p();const[O,z]=s.useState([{id:0,name:"milaf cola",displayName:["MILAF","COLA"],image:r,description:"Milaf Cola, crafted in Saudi Arabia, enriched with Ajwa dates, zero sugar, bold refreshing taste.",backgroundImage:i,textColor:"#BF7E3E",price:99.8},{id:1,name:"chocolate spread",displayName:["CHOCO","SPREAD"],image:n,description:"Rich and creamy chocolate spread, made with premium cocoa and natural ingredients for the perfect indulgence.",gradient:"linear-gradient(135deg, #743002, #7C3C16)",price:167.76},{id:2,name:"date spread",displayName:["DATE","SPREAD"],image:l,description:"Natural and nutritious date spread, made from premium Ajwa dates, rich in fiber and natural sweetness.",gradient:"linear-gradient(135deg, #CE8437, #FBDCA4)",price:159.8},{id:3,name:"khalas dates",displayName:["KHALAS","DATES"],image:o,description:"Classic Khalas dates with caramel-like sweetness and a smooth bite.",gradient:"linear-gradient(135deg, #98371F, #A94733)",price:299.7},{id:4,name:"safawi dates",displayName:["SAFAWI","DATES"],image:c,description:"Premium Safawi dates known for their rich flavor and soft texture.",gradient:"linear-gradient(135deg, #D69150, #B66325)",price:224.75},{id:5,name:"segai dates",displayName:["SEGAI","DATES"],image:d,description:"Segai dates featuring a delightful blend of firm and soft textures with a balanced sweetness.",gradient:"linear-gradient(135deg, #722E17, #D8582C)",price:274.75}]);s.useState(!1),s.useEffect(()=>{(async()=>{try{const e=await a();if(e.length>0){const t=e.map((e,t)=>{return{id:t,name:e.name.toLowerCase(),displayName:e.name.toUpperCase().split(" "),image:h(e.name),description:e.description,backgroundImage:"milaf cola"===e.name.toLowerCase()?i:void 0,textColor:"milaf cola"===e.name.toLowerCase()?"#BF7E3E":void 0,gradient:(a=e.name,{"Milaf Cola":"linear-gradient(135deg, #BF7E3E, #D4A574)","Choco Spread":"linear-gradient(135deg, #743002, #7C3C16)","Date Spread":"linear-gradient(135deg, #CE8437, #FBDCA4)","Khalas Dates":"linear-gradient(135deg, #98371F, #A94733)","Safawi Dates":"linear-gradient(135deg, #D69150, #B66325)","Segai Dates":"linear-gradient(135deg, #722E17, #D8582C)"}[a]||"linear-gradient(135deg, #666, #999)"),price:e.casePrice||e.price,category:e.category};var a});z(t)}}catch(e){}})()},[]),s.useEffect(()=>{const e=setTimeout(()=>{L(!1)},3e3);return()=>clearTimeout(e)},[]);s.useEffect(()=>{if(C&&y){if(!localStorage.getItem("bulkOrderPopupShown")){const e=setTimeout(()=>{T(!0),localStorage.setItem("bulkOrderPopupShown","true")},2e3);return()=>clearTimeout(e)}}},[C,y]);const M=O[j];return s.useEffect(()=>{b&&M?.gradient&&b(M.gradient)},[j,b,M?.gradient]),s.useEffect(()=>{void 0!==g&&k(g)},[g]),s.useEffect(()=>{const e=new IntersectionObserver(([e])=>{e.isIntersecting&&!y?(S(!0),v(!0)):e.isIntersecting&&y?S(!0):S(!1)},{threshold:.5}),t=document.querySelector(".bulk-order-section");return t&&e.observe(t),()=>{t&&e.unobserve(t)}},[y]),M?t.jsxs("section",{className:"bulk-order-section relative min-h-screen w-full overflow-hidden snap-start snap-always",children:[t.jsx(u,{}),B&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-md",children:t.jsxs("div",{className:"text-center space-y-6 entrance-fade-in",children:[t.jsx("div",{className:"text-8xl mb-4 entrance-bounce",children:"âœ¨"}),t.jsx("h1",{className:"text-6xl font-bold text-white mb-4 drop-shadow-2xl entrance-glow",children:"SWEET FOR A REASON"}),t.jsx("p",{className:"text-2xl text-white/90 max-w-2xl mx-auto leading-relaxed drop-shadow-lg",children:"Discover the natural goodness of Milaf Dates. Perfect for your customers, perfect for your business."}),t.jsx("div",{className:"mt-8",children:t.jsx("span",{className:"inline-block bg-green-500 text-white px-8 py-4 rounded-full text-xl font-bold shadow-2xl entrance-glow",children:"ðŸ“¦ Stock in bulk today and share the sweetness of tradition!"})}),t.jsx("div",{className:"mt-6",children:t.jsx("button",{className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold text-lg px-8 py-4 rounded-full transition-all duration-300 transform hover:scale-105 shadow-2xl entrance-bounce",children:"ðŸ‘‰ Order in Bulk Now"})})]})}),t.jsx("div",{className:"absolute inset-0 transition-all duration-700 ease-in-out",style:{background:0===M.id&&M.backgroundImage?`url(${M.backgroundImage})`:M.gradient,backgroundSize:0===M.id?"cover":"auto",backgroundPosition:0===M.id?"center":"auto",backgroundRepeat:0===M.id?"no-repeat":"auto"}}),t.jsx("button",{onClick:()=>{window.history.back()},className:"absolute top-24 left-6 z-10 w-10 h-10 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 hover:bg-white/30 transition-all duration-300 flex items-center justify-center text-white",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsxs("div",{className:"bulk-order-content flex items-center justify-between h-full px-6 pt-20 transition-all duration-700 ease-in-out",style:{background:0===M.id&&M.backgroundImage?`url(${M.backgroundImage})`:M.gradient,backgroundSize:0===M.id?"cover":"auto",backgroundPosition:0===M.id?"center":"auto",backgroundRepeat:0===M.id?"no-repeat":"auto"},children:[t.jsx("div",{className:"flex-1 flex flex-col items-center justify-center overflow-hidden",children:t.jsxs("div",{className:"relative",children:[t.jsxs("h1",{className:"font-bold leading-tight mb-8 uppercase text-center transition-all duration-700 ease-in-out "+(N?"transform -translate-x-full opacity-0":"transform translate-x-0 opacity-100"),style:{fontSize:"5.5rem",fontFamily:"Andada Pro, serif",color:0===M.id&&M.textColor?M.textColor:"white"},children:[t.jsx("span",{className:"block",children:M.displayName[0]}),M.displayName[1]&&t.jsx("span",{className:"block -mt-8",children:M.displayName[1]})]}),t.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6 max-w-md mx-auto -mt-8 transition-all duration-700 ease-in-out "+(N?"transform -translate-x-full opacity-0":"transform translate-x-0 opacity-100"),children:[t.jsx("h3",{className:"text-2xl font-bold text-black text-center mb-4",children:"Product Availability"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-lg font-semibold text-black",children:"Available Cases:"}),t.jsx("span",{className:"text-xl font-bold text-black",children:"150"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-lg font-semibold text-black",children:"Batch Date:"}),t.jsx("span",{className:"text-xl font-bold text-black",children:"Dec 15, 2024"})]})]})]}),0===M.id&&t.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-lg p-3 max-w-xs mx-auto mt-2 transition-all duration-700 ease-in-out "+(N?"transform -translate-x-full opacity-0":"transform translate-x-0 opacity-100"),children:[t.jsx("h3",{className:"text-sm font-semibold text-black text-center mb-2",children:"Dimensions"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:"text-black/70",children:"H:"}),t.jsx("span",{className:"font-semibold text-black ml-1",children:"14cm"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:"text-black/70",children:"W:"}),t.jsx("span",{className:"font-semibold text-black ml-1",children:"22cm"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:"text-black/70",children:"L:"}),t.jsx("span",{className:"font-semibold text-black ml-1",children:"32cm"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:"text-black/70",children:"Wt:"}),t.jsx("span",{className:"font-semibold text-black ml-1",children:"6kg"})]})]})]})]})}),t.jsxs("div",{className:"flex-1 flex items-center justify-center relative",children:[t.jsx("img",{src:M.image,alt:`${M.name} product`,className:"max-h-[68.25vh] max-w-[47.25vw] object-contain transition-all duration-700 ease-in-out "+(N?"transform translate-y-full opacity-0":"transform translate-y-0 opacity-100")}),t.jsxs("div",{className:"absolute bottom-[-2.5cm] left-1/2 transform -translate-x-1/2 flex items-center gap-4 max-w-4xl",children:[t.jsx("button",{className:"w-10 h-10 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 flex items-center justify-center hover:bg-white/30 transition-all duration-300 text-white",onClick:()=>{N||N||(w(!0),setTimeout(()=>{k(e=>(e-1+O.length)%O.length),setTimeout(()=>w(!1),50)},350))},children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsx("div",{className:"flex gap-2 overflow-hidden",children:O.slice(j,j+4).map((e,a)=>t.jsx("div",{className:"cursor-pointer transition-all duration-300 transform hover:scale-105 flex-shrink-0 "+(j===e.id?"ring-2 ring-offset-2 ring-blue-500":""),onClick:()=>{N||(w(!0),setTimeout(()=>{k(j+a),setTimeout(()=>w(!1),50)},350))},children:t.jsxs("div",{className:"rounded-lg p-2 hover:opacity-80 transition-all duration-300",style:{background:0===M.id&&0===e.id?`url(${M.backgroundImage})`:e.gradient||"linear-gradient(135deg, #666, #999)",backgroundSize:0===M.id&&0===e.id?"cover":"auto",backgroundPosition:0===M.id&&0===e.id?"center":"auto",backgroundRepeat:0===M.id&&0===e.id?"no-repeat":"auto"},children:[t.jsx("img",{src:e.image,alt:e.name,className:"w-12 h-12 object-contain rounded-md"}),t.jsx("p",{className:"text-xs text-center mt-1 text-white font-medium truncate max-w-[3rem]",children:e.displayName.join(" ")})]})},e.id))}),t.jsx("button",{className:"w-10 h-10 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 flex items-center justify-center hover:bg-white/30 transition-all duration-300 text-white",onClick:()=>{N||N||(w(!0),setTimeout(()=>{k(e=>(e+1)%O.length),setTimeout(()=>w(!1),50)},350))},children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),t.jsxs("div",{className:"flex-1 flex flex-col items-start justify-center overflow-hidden -mt-40",children:[t.jsx("h2",{className:"font-bold font-poppins text-4xl mb-6 uppercase transition-all duration-700 ease-in-out "+(N?"transform translate-x-full opacity-0":"transform translate-x-0 opacity-100"),style:{color:0===M.id&&M.textColor?M.textColor:"white"},children:M.name}),t.jsx("p",{className:"font-poppins text-lg max-w-md leading-relaxed transition-all duration-700 ease-in-out "+(N?"transform translate-x-full opacity-0":"transform translate-y-0 opacity-100"),style:{color:M.textColor?M.textColor:"white"},children:M.description})]})]}),t.jsxs("div",{className:"absolute right-[7.3cm] bottom-[calc(7%+2.5cm)] transition-all duration-700 ease-in-out "+(N?"transform translate-x-full opacity-0":"transform translate-x-0 opacity-100"),children:[t.jsx("div",{className:"text-center mb-3",children:t.jsx("span",{className:"text-base text-black font-medium",children:"Quantity in case: 20"})}),t.jsx("label",{className:"block text-base font-medium mb-2 text-black text-center",children:"Case"}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{className:"w-8 h-8 rounded-full border-2 border-black flex items-center justify-center hover:opacity-80 transition-all duration-300 text-black",onClick:()=>E(Math.max(1,A-1)),children:"-"}),t.jsx("span",{className:"text-2xl font-semibold min-w-[3rem] text-center text-black",children:A}),t.jsx("button",{className:"w-8 h-8 rounded-full border-2 border-black flex items-center justify-center hover:opacity-80 transition-all duration-300 text-black",onClick:()=>E(A+1),children:"+"})]})]}),t.jsx("div",{className:"absolute right-[0.8cm] bottom-[calc(20%+2.5cm)] transition-all duration-700 ease-in-out "+(N?"transform translate-x-full opacity-0":"transform translate-x-0 opacity-100"),children:t.jsx("button",{className:"px-8 py-3 bg-black text-white font-bold font-poppins text-lg uppercase rounded-lg hover:bg-gray-800 transition-all duration-300",onClick:()=>{f(M,A,F,I,E)},children:"Add to Cart"})}),t.jsx(m,{message:`${A} ${M.name} added to cart!`,isVisible:D,onClose:()=>I(!1),type:"success"}),t.jsx(x,{isVisible:P,onClose:()=>T(!1)})]}):t.jsxs("section",{className:"bulk-order-section relative min-h-screen w-full overflow-hidden snap-start snap-always",children:[t.jsx(u,{}),t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"No products available"}),t.jsx("p",{className:"text-gray-600",children:"Please try again later."})]})})]})};export{b as BulkOrder};
