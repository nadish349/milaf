import{j as e,e as s}from"./index-jHmpFEMT.js";import{r as a}from"./vendor-CyyySG0f.js";import{n as i,q as r,B as t,D as n}from"./firebase-rYhY7HPw.js";import{g as o}from"./inquiryFetch-mdR6qjWO.js";import{m as l}from"./m1-DUCQGgOG.js";import{u as d,b as c,O as m}from"./router-Dpy7eVzN.js";import"./ui-D10HkiTw.js";const u=()=>{const[u,x]=a.useState(!0),[h,f]=a.useState(0),p=d(),g=c();a.useEffect(()=>{const e=o(),a=i(s,"inquiry",e,"inquiries"),l=r(a,t("createdAt","desc")),d=n(l,e=>{let s=0;e.forEach(e=>{e.data().read||s++}),f(s)},e=>{});return()=>d()},[]);const j=[{name:"Orders",path:"/admin/orders",icon:"üì¶",description:"Manage customer orders"},{name:"Products",path:"/admin/products",icon:"üõçÔ∏è",description:"Manage product inventory"},{name:"Inquiries",path:"/admin/inquiries",icon:"üí¨",description:"Business inquiries",hasNotification:!0,notificationCount:h}];return e.jsxs("div",{className:"min-h-screen w-full flex",style:{backgroundImage:`url(${l})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsxs("div",{className:(u?"w-64":"w-16")+" bg-white shadow-lg transition-all duration-300 flex-shrink-0 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[u&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"font-bold text-xl text-gray-800",children:"Admin Panel"}),h>0&&e.jsxs("div",{className:"flex items-center gap-1 bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-medium",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),h," unread"]})]}),e.jsxs("button",{onClick:()=>x(!u),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors relative",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),!u&&h>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse border-2 border-white"})]})]})}),e.jsx("nav",{className:"p-4 flex-1 overflow-y-auto",children:e.jsx("ul",{className:"space-y-2",children:j.map(s=>{return e.jsx("li",{children:e.jsxs("button",{onClick:()=>p(s.path),className:"w-full flex items-center p-3 rounded-lg transition-all duration-200 "+(a=s.path,"/admin"===a&&"/admin"===g.pathname||"/admin"!==a&&g.pathname.startsWith(a)?"bg-green-100 text-green-700 border-l-4 border-green-500":"text-gray-700 hover:bg-gray-50"),title:u?void 0:s.name,children:[e.jsx("span",{className:"text-xl",children:s.icon}),u&&e.jsxs("div",{className:"ml-3 text-left flex-1",children:[e.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[s.name,s.hasNotification&&s.notificationCount>0&&e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),e.jsx("div",{className:"text-xs text-gray-500",children:s.hasNotification&&s.notificationCount>0?`${s.notificationCount} unread inquiries`:s.description})]}),!u&&s.hasNotification&&s.notificationCount>0&&e.jsx("div",{className:"absolute top-1 right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]})},s.path);var a})})}),e.jsx("div",{className:"p-4 border-t border-gray-200 flex-shrink-0",children:e.jsxs("button",{onClick:()=>p("/"),className:"w-full flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-50 transition-all duration-200 border border-gray-200",title:u?void 0:"Back to Site",children:[e.jsx("span",{className:"text-xl",children:"üè†"}),u&&e.jsx("span",{className:"ml-3",children:"Back to Site"})]})})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsx("div",{className:"p-6",children:e.jsx(m,{})})})]})};export{u as AdminLayout};
