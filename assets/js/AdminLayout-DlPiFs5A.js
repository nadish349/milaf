import{j as e,e as s}from"./index-jHmpFEMT.js";import{r as t}from"./vendor-CyyySG0f.js";import{n as i,q as r,B as a,D as n}from"./firebase-rYhY7HPw.js";import{g as o}from"./inquiryFetch-mdR6qjWO.js";import{m as l}from"./m1-DUCQGgOG.js";import{u as d,b as c,O as m}from"./router-Dpy7eVzN.js";import"./ui-D10HkiTw.js";const x=()=>{const[x,u]=t.useState(!1),[h,f]=t.useState(0),p=d(),g=c();t.useEffect(()=>{const e=o(),t=i(s,"inquiry",e,"inquiries"),l=r(t,a("createdAt","desc")),d=n(l,e=>{let s=0;e.forEach(e=>{e.data().read||s++}),f(s)},e=>{});return()=>d()},[]);const j=[{name:"Orders",path:"/admin/orders",icon:"üì¶",description:"Manage customer orders"},{name:"Products",path:"/admin/products",icon:"üõçÔ∏è",description:"Manage product inventory"},{name:"Inquiries",path:"/admin/inquiries",icon:"üí¨",description:"Business inquiries",hasNotification:!0,notificationCount:h}];return e.jsxs("div",{className:"min-h-screen w-full",style:{backgroundImage:`url(${l})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"w-full bg-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"font-bold text-xl text-gray-800",children:"Admin Panel"}),h>0&&e.jsxs("div",{className:"flex items-center gap-1 bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-medium",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),h," unread"]})]}),e.jsxs("button",{onClick:()=>u(!x),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors relative",children:[e.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),h>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse border-2 border-white"})]})]})}),x&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50",onClick:()=>u(!1),children:e.jsx("div",{className:"fixed top-0 right-0 h-full w-80 bg-white shadow-xl transform transition-transform duration-300 flex flex-col",children:e.jsxs("div",{className:"p-6 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Navigation"}),e.jsx("button",{onClick:()=>u(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("nav",{className:"mb-6 flex-1",children:e.jsx("ul",{className:"space-y-3",children:j.map(s=>{return e.jsx("li",{children:e.jsxs("button",{onClick:()=>{p(s.path),u(!1)},className:"w-full flex items-center p-4 rounded-lg transition-all duration-200 "+(t=s.path,"/admin"===t&&"/admin"===g.pathname||"/admin"!==t&&g.pathname.startsWith(t)?"bg-green-100 text-green-700 border-l-4 border-green-500":"text-gray-700 hover:bg-gray-50"),children:[e.jsx("span",{className:"text-2xl mr-4",children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-semibold text-left flex items-center gap-2",children:[s.name,s.hasNotification&&s.notificationCount>0&&e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),e.jsx("div",{className:"text-sm text-gray-500 text-left",children:s.hasNotification&&s.notificationCount>0?`${s.notificationCount} unread inquiries`:s.description})]})]})},s.path);var t})})}),e.jsx("div",{className:"mt-auto",children:e.jsxs("button",{onClick:()=>{p("/"),u(!1)},className:"w-full flex items-center p-4 rounded-lg text-gray-700 hover:bg-gray-50 transition-all duration-200 border-t border-gray-200",children:[e.jsx("span",{className:"text-2xl mr-4",children:"üè†"}),e.jsx("span",{children:"Back to Site"})]})})]})})}),e.jsx("div",{className:"w-full min-h-screen pt-20",children:e.jsx("div",{className:"p-4 sm:p-6",children:e.jsx(m,{})})})]})};export{x as AdminLayout};
