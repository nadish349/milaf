import{h as e,i as s,k as a,j as r,l as t,m as n,n as i,o,p as l,q as d,r as c,e as u,d as m}from"./index-jHmpFEMT.js";import{r as p,R as h}from"./vendor-CyyySG0f.js";import{C as f,a as g,b as x,c as b,d as v,B as y}from"./card-CmKHpVHl.js";import{L as j,I as N}from"./label-DM97D0RX.js";import{l as w,x as C,G as S,H as F,m as P,y as I,I as T,J as D}from"./firebase-rYhY7HPw.js";import{P as E}from"./PostalCodeAutocomplete-DBHDLA_4.js";import{U as R,P as k,a as A,M as z}from"./ui-D10HkiTw.js";var M=h[" useId ".trim().toString()]||(()=>{}),_=0;function U(s){const[a,r]=p.useState(M());return e(()=>{s||r(e=>e??String(_++))},[s]),s||(a?`radix-${a}`:"")}const X="/assets/images/milaflogo-Dn5fVutP.png";var q=p.createContext(void 0);function L(e){const s=p.useContext(q);return e||s||"ltr"}var G="rovingFocusGroup.onEntryFocus",K={bubbles:!1,cancelable:!0},V="RovingFocusGroup",[B,O,W]=s(V),[H,$]=a(V,[W]),[J,Y]=H(V),Z=p.forwardRef((e,s)=>r.jsx(B.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(B.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Q,{...e,ref:s})})}));Z.displayName=V;var Q=p.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:a,orientation:d,loop:c=!1,dir:u,currentTabStopId:m,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:f,onEntryFocus:g,preventScrollOnEntryFocus:x=!1,...b}=e,v=p.useRef(null),y=t(s,v),j=L(u),[N,w]=n({prop:m,defaultProp:h??null,onChange:f,caller:V}),[C,S]=p.useState(!1),F=i(g),P=O(a),I=p.useRef(!1),[T,D]=p.useState(0);return p.useEffect(()=>{const e=v.current;if(e)return e.addEventListener(G,F),()=>e.removeEventListener(G,F)},[F]),r.jsx(J,{scope:a,orientation:d,dir:j,loop:c,currentTabStopId:N,onItemFocus:p.useCallback(e=>w(e),[w]),onItemShiftTab:p.useCallback(()=>S(!0),[]),onFocusableItemAdd:p.useCallback(()=>D(e=>e+1),[]),onFocusableItemRemove:p.useCallback(()=>D(e=>e-1),[]),children:r.jsx(o.div,{tabIndex:C||0===T?-1:0,"data-orientation":d,...b,ref:y,style:{outline:"none",...e.style},onMouseDown:l(e.onMouseDown,()=>{I.current=!0}),onFocus:l(e.onFocus,e=>{const s=!I.current;if(e.target===e.currentTarget&&s&&!C){const s=new CustomEvent(G,K);if(e.currentTarget.dispatchEvent(s),!s.defaultPrevented){const e=P().filter(e=>e.focusable);re([e.find(e=>e.active),e.find(e=>e.id===N),...e].filter(Boolean).map(e=>e.ref.current),x)}}I.current=!1}),onBlur:l(e.onBlur,()=>S(!1))})})}),ee="RovingFocusGroupItem",se=p.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:a,focusable:t=!0,active:n=!1,tabStopId:i,children:d,...c}=e,u=U(),m=i||u,h=Y(ee,a),f=h.currentTabStopId===m,g=O(a),{onFocusableItemAdd:x,onFocusableItemRemove:b,currentTabStopId:v}=h;return p.useEffect(()=>{if(t)return x(),()=>b()},[t,x,b]),r.jsx(B.ItemSlot,{scope:a,id:m,focusable:t,active:n,children:r.jsx(o.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...c,ref:s,onMouseDown:l(e.onMouseDown,e=>{t?h.onItemFocus(m):e.preventDefault()}),onFocus:l(e.onFocus,()=>h.onItemFocus(m)),onKeyDown:l(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void h.onItemShiftTab();if(e.target!==e.currentTarget)return;const s=function(e,s,a){const r=function(e,s){return"rtl"!==s?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,a);return"vertical"===s&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===s&&["ArrowUp","ArrowDown"].includes(r)?void 0:ae[r]}(e,h.orientation,h.dir);if(void 0!==s){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let t=g().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===s)t.reverse();else if("prev"===s||"next"===s){"prev"===s&&t.reverse();const n=t.indexOf(e.currentTarget);t=h.loop?(r=n+1,(a=t).map((e,s)=>a[(r+s)%a.length])):t.slice(n+1)}setTimeout(()=>re(t))}var a,r}),children:"function"==typeof d?d({isCurrentTabStop:f,hasTabStop:null!=v}):d})})});se.displayName=ee;var ae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function re(e,s=!1){const a=document.activeElement;for(const r of e){if(r===a)return;if(r.focus({preventScroll:s}),document.activeElement!==a)return}}var te=Z,ne=se,ie="Tabs",[oe,le]=a(ie,[$]),de=$(),[ce,ue]=oe(ie),me=p.forwardRef((e,s)=>{const{__scopeTabs:a,value:t,onValueChange:i,defaultValue:l,orientation:d="horizontal",dir:c,activationMode:u="automatic",...m}=e,p=L(c),[h,f]=n({prop:t,onChange:i,defaultProp:l??"",caller:ie});return r.jsx(ce,{scope:a,baseId:U(),value:h,onValueChange:f,orientation:d,dir:p,activationMode:u,children:r.jsx(o.div,{dir:p,"data-orientation":d,...m,ref:s})})});me.displayName=ie;var pe="TabsList",he=p.forwardRef((e,s)=>{const{__scopeTabs:a,loop:t=!0,...n}=e,i=ue(pe,a),l=de(a);return r.jsx(te,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:t,children:r.jsx(o.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:s})})});he.displayName=pe;var fe="TabsTrigger",ge=p.forwardRef((e,s)=>{const{__scopeTabs:a,value:t,disabled:n=!1,...i}=e,d=ue(fe,a),c=de(a),u=ve(d.baseId,t),m=ye(d.baseId,t),p=t===d.value;return r.jsx(ne,{asChild:!0,...c,focusable:!n,active:p,children:r.jsx(o.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":m,"data-state":p?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:u,...i,ref:s,onMouseDown:l(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(t)}),onKeyDown:l(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(t)}),onFocus:l(e.onFocus,()=>{const e="manual"!==d.activationMode;p||n||!e||d.onValueChange(t)})})})});ge.displayName=fe;var xe="TabsContent",be=p.forwardRef((e,s)=>{const{__scopeTabs:a,value:t,forceMount:n,children:i,...l}=e,c=ue(xe,a),u=ve(c.baseId,t),m=ye(c.baseId,t),h=t===c.value,f=p.useRef(h);return p.useEffect(()=>{const e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),r.jsx(d,{present:n||h,children:({present:a})=>r.jsx(o.div,{"data-state":h?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!a,id:m,tabIndex:0,...l,ref:s,style:{...e.style,animationDuration:f.current?"0s":void 0},children:a&&i})})});function ve(e,s){return`${e}-trigger-${s}`}function ye(e,s){return`${e}-content-${s}`}be.displayName=xe;var je=he,Ne=ge,we=be;const Ce=me,Se=p.forwardRef(({className:e,...s},a)=>r.jsx(je,{ref:a,className:c("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));Se.displayName=je.displayName;const Fe=p.forwardRef(({className:e,...s},a)=>r.jsx(Ne,{ref:a,className:c("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));Fe.displayName=Ne.displayName;const Pe=p.forwardRef(({className:e,...s},a)=>r.jsx(we,{ref:a,className:c("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));Pe.displayName=we.displayName;var Ie="horizontal",Te=["horizontal","vertical"],De=p.forwardRef((e,s)=>{const{decorative:a,orientation:t=Ie,...n}=e,i=function(e){return Te.includes(e)}(t)?t:Ie,l=a?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"};return r.jsx(o.div,{"data-orientation":i,...l,...n,ref:s})});De.displayName="Separator";var Ee=De;const Re=p.forwardRef(({className:e,orientation:s="horizontal",decorative:a=!0,...t},n)=>r.jsx(Ee,{ref:n,decorative:a,orientation:s,className:c("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...t}));Re.displayName=Ee.displayName;const ke=({isOpen:e,onClose:s,userId:a,userEmail:t})=>{const[n,i]=p.useState({name:"",phone:"",address:"",zipcode:""}),[o,l]=p.useState(!1),[d,c]=p.useState(""),[m,h]=p.useState(""),S=(e,s)=>{i(a=>({...a,[e]:s}))};return e?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(f,{className:"w-full max-w-md",children:[r.jsxs(g,{className:"text-center",children:[r.jsx(x,{className:"text-2xl font-bold",children:"Complete Your Profile"}),r.jsx(b,{children:"Welcome! Please provide your details to complete your account setup."})]}),r.jsxs(v,{children:[m&&r.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-300 text-green-700 rounded-md text-sm",children:m}),d&&r.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded-md text-sm",children:d}),r.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 text-blue-700 rounded-md text-sm",children:[r.jsx("strong",{children:"Email:"})," ",t]}),r.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),n.name.trim()&&n.phone.trim()&&n.address.trim()&&n.zipcode.trim())try{l(!0),c("");const e=w(u,"users",a);await C(e,{displayName:n.name,phone:n.phone,address:n.address,zipcode:n.zipcode,profileComplete:!0,profileUpdatedAt:new Date}),h("Profile completed successfully!"),setTimeout(()=>{s(),h("")},2e3)}catch(r){c("Failed to update profile. Please try again.")}finally{l(!1)}else c("Please fill in all fields")},className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(j,{htmlFor:"name",children:"Full Name *"}),r.jsxs("div",{className:"relative",children:[r.jsx(R,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(N,{id:"name",type:"text",placeholder:"Enter your full name",value:n.name,onChange:e=>S("name",e.target.value),className:"pl-10",required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(j,{htmlFor:"phone",children:"Phone Number *"}),r.jsxs("div",{className:"relative",children:[r.jsx(k,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(N,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:n.phone,onChange:e=>(e=>{const s=e.replace(/\D/g,"");i(e=>({...e,phone:s}))})(e.target.value),className:"pl-10",required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(j,{htmlFor:"address",children:"Address *"}),r.jsxs("div",{className:"relative",children:[r.jsx(A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(N,{id:"address",type:"text",placeholder:"Enter your full address",value:n.address,onChange:e=>S("address",e.target.value),className:"pl-10",required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(j,{htmlFor:"zipcode",children:"Zipcode *"}),r.jsx(E,{value:n.zipcode,onChange:e=>S("zipcode",e),placeholder:"Enter zip code or suburb name",required:!0,onSuggestionSelect:e=>{}})]}),r.jsx(y,{type:"submit",disabled:o,className:"w-full",children:o?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating Profile..."]}):"Complete Profile"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx(y,{variant:"ghost",onClick:s,className:"text-gray-500 hover:text-gray-700",children:"Skip for Now"})})]})]})}):null},Ae=({isOpen:e,onClose:s,onLoginSuccess:a})=>{const[t,n]=p.useState("signin"),[i,o]=p.useState({email:"",name:"",phone:"",countryCode:"+61"}),[l,d]=p.useState(!1),[c,h]=p.useState(""),[C,E]=p.useState(""),[k,A]=p.useState(!1),[M,_]=p.useState(""),[U,X]=p.useState(""),q=(e,s)=>{o(a=>({...a,[e]:s}))},L=e=>{const s=e.replace(/\D/g,"");o(e=>({...e,phone:s}))};return e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(f,{className:"w-full max-w-md",children:[r.jsxs(g,{className:"text-center",children:[r.jsx(x,{className:"text-2xl font-bold",children:"Welcome to Milaf Cola"}),r.jsx(b,{children:"Sign in to your account or create a new one"})]}),r.jsxs(v,{children:[C&&r.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-300 text-green-700 rounded-md text-sm",children:C}),c&&r.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded-md text-sm",children:[c,c.includes("Account doesn't exist")&&r.jsxs("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded text-blue-700 text-xs",children:["ðŸ’¡ ",r.jsx("strong",{children:"Tip:"})," We'll automatically switch you to the Sign Up tab in a moment!"]}),c.includes("already registered")&&r.jsxs("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded text-blue-700 text-xs",children:["ðŸ’¡ ",r.jsx("strong",{children:"Tip:"})," We'll automatically switch you to the Sign In tab in a moment!"]})]}),r.jsx(y,{onClick:async()=>{try{d(!0),h("");const e=new S;e.setCustomParameters({prompt:"select_account"});const r=await F(m,e);if((await P(w(u,"users",r.user.uid))).exists())await I(w(u,"users",r.user.uid),{lastLogin:new Date,isNewUser:!1},{merge:!0}),E("Welcome back! Redirecting to your profile..."),setTimeout(()=>{s(),E(""),a?.()},3e3);else{const e={uid:r.user.uid,email:r.user.email,displayName:r.user.displayName||"",phone:"",countryCode:"+61",address:"",zipcode:"",createdAt:new Date,lastLogin:new Date,provider:"google",isNewUser:!0,profileComplete:!1};await I(w(u,"users",r.user.uid),e),_(r.user.uid),X(r.user.email||""),A(!0),s()}h("")}catch(e){let s="Google sign in failed";e instanceof Error&&(s=e.message.includes("popup-closed-by-user")?"Google sign-in was cancelled. Please try again.":e.message.includes("auth/network-request-failed")?"Network error. Please check your internet connection and try again.":e.message.includes("auth/unauthorized-domain")?"This domain is not authorized. Please add localhost to OAuth redirect domains in Firebase Console.":e.message.includes("auth/operation-not-allowed")?"Google sign-in is not enabled. Please enable it in Firebase Console.":e.message.includes("Missing or insufficient permissions")?"Firestore database not enabled. Please enable it in Firebase Console.":e.message),h(s)}finally{d(!1)}},disabled:l,className:"w-full mb-6 bg-white text-gray-900 hover:bg-gray-100 border border-gray-300 disabled:opacity-50",variant:"outline",children:l?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900 mr-2"}),"Signing in..."]}):r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),r.jsxs("div",{className:"relative mb-6",children:[r.jsx(Re,{}),r.jsx("span",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white px-4 text-sm text-gray-500",children:"or"})]}),r.jsxs(Ce,{value:t,onValueChange:n,className:"w-full",children:[r.jsxs(Se,{className:"grid w-full grid-cols-2",children:[r.jsx(Fe,{value:"signin",children:"Sign In"}),r.jsx(Fe,{value:"signup",children:"Sign Up"})]}),r.jsxs(Pe,{value:"signin",className:"space-y-4",children:[r.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md text-blue-700 text-sm",children:[r.jsx("strong",{children:"Don't have an account?"}),' Use the "Sign Up" tab to create one, or try Google sign-in above.']}),r.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{d(!0),h("");const e=i.phone||"default123",r=await T(m,i.email,e);(await P(w(u,"users",r.user.uid))).exists()?(await I(w(u,"users",r.user.uid),{lastLogin:new Date,isNewUser:!1},{merge:!0}),E("Welcome back! Redirecting to your profile..."),setTimeout(()=>{s(),E(""),a?.()},3e3)):h("User account not found. Please sign up first.")}catch(r){let e="Sign in failed";r instanceof Error&&(r.message.includes("user-not-found")?(e="Account doesn't exist. Please create one using the 'Sign Up' tab.",setTimeout(()=>{n("signup"),h("")},2e3)):e=r.message.includes("wrong-password")?"Invalid credentials. Please check your email and phone number.":r.message.includes("invalid-email")?"Invalid email address. Please check your email format.":r.message.includes("user-disabled")?"This account has been disabled. Please contact support.":r.message.includes("too-many-requests")?"Too many failed attempts. Please try again later.":r.message),h(e)}finally{d(!1)}},className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(j,{htmlFor:"signin-phone",children:"Phone Number"}),r.jsx("div",{className:"relative",children:r.jsxs("div",{className:"flex",children:[r.jsxs("select",{value:i.countryCode,onChange:e=>q("countryCode",e.target.value),className:"px-3 py-2 border border-r-0 border-gray-300 rounded-l-md bg-white text-gray-900 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-r-0",children:[r.jsx("option",{value:"+61",children:"ðŸ‡¦ðŸ‡º"}),r.jsx("option",{value:"+64",children:"ðŸ‡³ðŸ‡¿"})]}),r.jsx(N,{id:"signin-phone",type:"tel",placeholder:"4XX XXX XXX",value:i.phone,onChange:e=>L(e.target.value),className:"rounded-l-none border-l-0",required:!0})]})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(j,{htmlFor:"signin-email",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(N,{id:"signin-email",type:"email",placeholder:"Enter your email",value:i.email,onChange:e=>q("email",e.target.value),className:"pl-10",required:!0})]})]}),r.jsx(y,{type:"submit",disabled:l,className:"w-full",children:l?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Continue"})]})]}),r.jsxs(Pe,{value:"signup",className:"space-y-4",children:[r.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-md text-green-700 text-sm",children:[r.jsx("strong",{children:"New to Milaf Cola?"})," Create your account and we'll help you complete your profile."]}),r.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{if(d(!0),h(""),!i.email||!i.name||!i.phone)return void h("Please fill in all required fields.");const e=i.phone||"default123",a=await D(m,i.email,e),r={uid:a.user.uid,email:i.email,displayName:i.name,phone:i.phone,countryCode:i.countryCode,address:"",zipcode:"",createdAt:new Date,lastLogin:new Date,provider:"email",isNewUser:!0,profileComplete:!1};await I(w(u,"users",a.user.uid),r),_(a.user.uid),X(i.email),A(!0),s()}catch(a){let e="Sign up failed";a instanceof Error&&(a.message.includes("email-already-in-use")?(e="This email is already registered. Please use the 'Sign In' tab instead.",setTimeout(()=>{n("signin"),h("")},2e3)):e=a.message.includes("invalid-email")?"Invalid email address. Please check your email format.":a.message.includes("weak-password")?"Password is too weak. Please use a stronger password.":a.message.includes("operation-not-allowed")?"Email/password accounts are not enabled. Please contact support.":a.message),h(e)}finally{d(!1)}},className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(j,{htmlFor:"signup-name",children:"Full Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(R,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(N,{id:"signup-name",type:"text",placeholder:"Enter your full name",value:i.name,onChange:e=>q("name",e.target.value),className:"pl-10",required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(j,{htmlFor:"signup-phone",children:"Phone Number"}),r.jsx("div",{className:"relative",children:r.jsxs("div",{className:"flex",children:[r.jsxs("select",{value:i.countryCode,onChange:e=>q("countryCode",e.target.value),className:"px-3 py-2 border border-r-0 border-gray-300 rounded-l-md bg-white text-gray-900 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-r-0",children:[r.jsx("option",{value:"+61",children:"ðŸ‡¦ðŸ‡º"}),r.jsx("option",{value:"+64",children:"ðŸ‡³ðŸ‡¿"})]}),r.jsx(N,{id:"signup-phone",type:"tel",placeholder:"4XX XXX XXX",value:i.phone,onChange:e=>L(e.target.value),className:"rounded-l-none border-l-0",required:!0})]})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(j,{htmlFor:"signup-email",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(N,{id:"signup-email",type:"email",placeholder:"Enter your email",value:i.email,onChange:e=>q("email",e.target.value),className:"pl-10",required:!0})]})]}),r.jsx(y,{type:"submit",disabled:l,className:"w-full",children:l?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating account..."]}):"Create Account"})]})]})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx(y,{variant:"ghost",onClick:s,className:"text-gray-500 hover:text-gray-700",children:"Close"})})]})]})}),r.jsx(ke,{isOpen:k,onClose:()=>{A(!1),_(""),X("")},userId:M,userEmail:U})]}):null};export{Ae as L,Re as S,X as m};
