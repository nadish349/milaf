async function e(){return"undefined"!=typeof window&&(document.getElementById("razorpay-sdk")||await new Promise((e,o)=>{const r=document.createElement("script");r.id="razorpay-sdk",r.src="https://checkout.razorpay.com/v1/checkout.js",r.onload=()=>e(),r.onerror=()=>o(new Error("Failed to load Razorpay SDK")),document.body.appendChild(r)}),!0)}async function o(e,o,r){const t=await fetch(`${e}/api/payment/create-order`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(r)}),n=await t.json();if(!t.ok)throw new Error(n?.error||"Failed to create order");return n}async function r(e){const o=await fetch(`${e}/api/payment/key`),r=await o.json();if(!o.ok)throw new Error(r?.error||"Failed to load payment key");return r.key}async function t(e,o,r){const t=await fetch(`${e}/api/payment/verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(r)}),n=await t.json();if(!t.ok)throw new Error(n?.error||"Payment verification failed");return n}export{o as createOrder,r as getPublicKey,e as loadRazorpay,t as verifyPayment};
